<!DOCTYPE html>
<html>
	<head>
	  	<meta charset="utf-8" />
  		<meta http-equiv="X-UA-Compatible" content="chrome=1" />
 		<meta name="viewport" content="width=device-width, minimum-scale=1.0" />
 		<link rel="stylesheet" type="text/css" href="/cs109-finalproject/css/other.css">
 		<style>
      	#map {
        	width: 500px;
        	height: 400px;
        	background-color: #CCC;
     	}
    	</style>
    	<!-- adding script to overlay earthquake locations to google map -->
    	<script src="https://maps.googleapis.com/maps/api/js"></script>
    	<script>
    		// function that calls google map and set the zoom and location
    		var map
      		function initialize() {
			  var mapOptions = {
			    zoom: 2,
			    center: {lat: 35, lng:  -98},zoom: 8,
			    mapTypeId: google.maps.MapTypeId.TERRAIN
			  };

			  map = new google.maps.Map(document.getElementById('map'),
			      mapOptions);
			  // map.data.loadGeoJson('since_1980_df.json');
			  // Create a <script> tag and set the Oklahoma URL as the source.
			  var script = document.createElement('script');

			  // script.src = 'http://wichita.ogs.ou.edu/eq/catalog/2015/2015.json';
			  script.src = 'http://earthquake.usgs.gov/earthquakes/feed/v1.0/summary/2.5_week.geojsonp';
			  document.getElementsByTagName('head')[0].appendChild(script);

			  // map.data.setStyle(function(feature) {
			  //   var magnitude = feature.getProperty('mag');
			  //   return {
			  //     icon: getCircle(magnitude)
			  //   };
			  // });        		
      		}
			// function getCircle(magnitude) {
			//   var circle = {
			//     path: google.maps.SymbolPath.CIRCLE,
			//     fillColor: 'red',
			//     fillOpacity: .2,
			//     scale: Math.pow(2, magnitude) / 2,
			//     strokeColor: 'white',
			//     strokeWeight: .5
			//   };
			//   return circle;
			// }

			// Call the initialize function after the page has finished loading
			function eqfeed_callback(results) {
			  map.data.addGeoJson(results);
			}

			google.maps.event.addDomListener(window, 'load', initialize);

   		</script>
		<title>CS109 Final project - Earthquakes</title>
	</head>
	<body>
		<nav>
    		<ul>
        		<li><a href="https://tperol.github.io/cs109-finalproject/">Home</a></li>
    		</ul>
		</nav>
		<div class="container">
    		<div class="blurb">
        		<h1>This is our website for CS109 final project</h1>
				<p>going to talk about injection-induced earthquakes</p>
    		</div><!-- /.blurb -->
    		<h1>
    		1/ Visualization of the earthquake locations via google map
    		</h1>
		</div><!-- /.container -->
	</body>
	<body>
    	<div id="map"></div>
  	</body>
</html>